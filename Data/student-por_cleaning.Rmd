---
title: "student-por cleaning"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(tidyverse)
```

```{r}
#change to the local file address of student-por.csv
student_por <- data.table::fread("~/Downloads/STOR320/student-por.csv", stringsAsFactors=TRUE)
```

```{r}
any(is.na(student_por))
```
There are no explicitly missing values.

```{r}
student_por = student_por %>%
  mutate(schoolsup = ifelse(schoolsup=="yes", 1, 0), #convert yes/no to 1/0
         famsup = ifelse(famsup=="yes", 1, 0),
         paid = ifelse(paid=="yes", 1, 0),
         activities = ifelse(activities=="yes", 1, 0),
         nursery = ifelse(nursery=="yes", 1, 0),
         higher = ifelse(higher=="yes", 1, 0),
         internet = ifelse(internet=="yes", 1, 0),
         romantic = ifelse(romantic=="yes", 1, 0),
         studytime = 10*studytime, #change 1 = 10 hours to 1 = 1 hour
         famrel = as.factor(famrel), #convert numbers to factor levels
         freetime = as.factor(freetime),
         goout = as.factor(goout), 
         Dalc = as.factor(Dalc),
         Walc = as.factor(Walc),
         health = as.factor(health),
         Medu = factor(Medu, #convert education levels to factor levels
                       levels = c(0,1,2,3,4), 
                       labels = c("0","1","2","3","4")),
         Fedu = factor(Fedu, 
                       levels = c(0,1,2,3,4), 
                       labels = c("0","1","2","3","4"))
         )
```

Then, export the reformatted data into a .rds file to preserve column types:
```{r}
write_rds(student_por, "studalc_por.rds")
```
